import{_ as s,c as a,o,V as n}from"./chunks/framework.9d7713fb.js";const t="/assets/cameraController.f4c16ef0.png",e="/assets/cameraChild.d30bcb1b.png",l="/assets/cameraPosition.5b47404c.png",p="/assets/addTransform.de9d829b.png",r="/assets/cameraControllerTransform.ec0e91ba.png",c="/assets/renameToTransform.71a7819b.png",i="/assets/addScript.f0c979d7.png",y="/assets/scriptPath.e1853c59.png",F="/assets/deleteLightOnCamera.387992e1.png",D="/assets/disableEditorLighting.0f1d3de5.png",m="/assets/lightsAdded.f67c89a2.png",T=JSON.parse('{"title":"Camera","description":"","frontmatter":{},"headers":[],"relativePath":"pong3d/camera.md","filePath":"pong3d/camera.md"}'),h={name:"pong3d/camera.md"},C=n('<h1 id="camera" tabindex="-1">Camera <a class="header-anchor" href="#camera" aria-label="Permalink to &quot;Camera&quot;">​</a></h1><p>The goal of this section of the tutorial will be to enable camera movement.</p><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">​</a></h2><ol><li><p>To get things setup make a empty gameObject inside the root gameObject and rename it to cameraController. This can be done by right clicking on the root gameObject in the tree view and clicking on <code>Create new empty child</code>. To rename this child click on the pencil icon that shows up when howering over the gameObject in the tree view. <img src="'+t+'" alt="cameraController"></p></li><li><p>Make the camera a child of cameraController by cuting it and pasting it insider the cameraController <img src="'+e+'" alt="cameraChild"></p></li><li><p>Update the camera position to [0,0,30] and rotation to [0,0,0] <img src="'+l+'" alt="positionedCamer"></p></li><li><p>Add a <code>transfrom</code> component to the cameraController <img src="'+p+'" alt="transformOnCameraController"></p></li><li><p>Repostion the cameraController to [0,8,0] <img src="'+r+'" alt="renameTransfomr"></p></li><li><p>Update the <code>transform</code> component name from &#39;newRef&#39; to &#39;transform&#39; <img src="'+c+`" alt="renameTransfomr"></p></li></ol><h2 id="writing-the-movement-logic" tabindex="-1">Writing the movement logic <a class="header-anchor" href="#writing-the-movement-logic" aria-label="Permalink to &quot;Writing the movement logic&quot;">​</a></h2><ol><li><p>Create the file <code>&lt;ProjectRoot&gt;/src/scripts/camera.ts</code>. This file will contain the logic for the camera movement.</p></li><li><p>Upade this file with the following script that looks at the mouse position and updates the rotation on the transform for the camera controller.</p></li></ol><div class="language-TypeScript"><button title="Copy Code" class="copy"></button><span class="lang">TypeScript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> init </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">game</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">gameObject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">   </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// get mouse x position ( normalized -1 to 1 )</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> ((</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clientX</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerWidth</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;"> )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// get mouse y position ( normalized -1 to 1 )</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> ((</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHeight</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">transform</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">gameObject</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">components</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transform</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">transform</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">//return if transform is not initialized</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//update transform rotation</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">transform</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rotation</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">PI</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">transform</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rotation</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">PI</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>In the above script the gameObject will be the cameraController (because this script will be attached to the camera controller).</p><ol start="3"><li>Add this script to the cameraController, by first adding a <code>script</code> component to the cameraController, <img src="`+i+'" alt="script"></li></ol><p>and then setting the value of the <code>gameScript</code> prop to the absolute scrip path(absolute from the root of the project), ie. <code>/src/scripts/camera.ts</code>. <img src="'+y+'" alt="scriptPath"></p><p>At this point you should see the camera move.</p><h2 id="lighting-optional" tabindex="-1">Lighting (optional) <a class="header-anchor" href="#lighting-optional" aria-label="Permalink to &quot;Lighting (optional)&quot;">​</a></h2><p>At the moment there is a single light attached to the camera, which is non ideal because the camera is non stationary, so in this section we will correct this.</p><ol><li>Delete the light component on the camera. <img src="'+F+'" alt="deleteLight"></li></ol><p>At this point if you disable editor lighting, you will see that there are no lights anywhere so all the meshes turn black. Disabling ambient and directional lighting in the editor gives a view which is closer to what the game will look like. <img src="'+D+'" alt="editorView"></p><ol start="2"><li>Add 2 lights on the cameraController and make one of them ambient. <img src="'+m+'" alt="addLight"></li></ol>',16),d=[C];function g(A,f,_,b,u,w){return o(),a("div",null,d)}const k=s(h,[["render",g]]);export{T as __pageData,k as default};
